var retina=lfl.system.RetinaLoader;var r;var app=angular.module("lflApp",[]);app.config(["$interpolateProvider",function($interpolateProvider){$interpolateProvider.startSymbol("{[{");$interpolateProvider.endSymbol("}]}")}]);app.config(function($compileProvider){$compileProvider.urlSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|tel):/)});
app.run(["$rootScope",function($rootScope){$rootScope.data={};$rootScope.ready=function(){$rootScope.data.status="ready";if(!$rootScope.$$phase)$rootScope.$apply();r=new retina};$rootScope.loading=function(){$rootScope.data.status="loading";if(!$rootScope.$$phase)$rootScope.$apply()};$rootScope.$on("$routeChangeStart",function(){$rootScope.loading()})}]);
app.controller("TechPartnersCtrl",["$scope","PartnersData","Utils","$timeout",function($scope,PartnersData,Utils,$timeout){PartnersData.getTechPartners().then(setUpScope);function setUpScope(partners){var aePd=PartnersData.filterByPlatform("appEngine",Utils.shuffle(partners));var bqPd=PartnersData.filterByPlatform("bigQuery",Utils.shuffle(partners));var cePd=PartnersData.filterByPlatform("computeEngine",Utils.shuffle(partners));var csPd=PartnersData.filterByPlatform("cloudStorage",Utils.shuffle(partners));
$scope.appEnginePartners=Utils.groupItems(aePd,2);$scope.bigQueryPartners=Utils.groupItems(bqPd,2);$scope.computeEnginePartners=Utils.groupItems(cePd,2);$scope.cloudStoragePartners=Utils.groupItems(csPd,2);$timeout(function(){$scope.ready()},50)}}]);
app.controller("ServicePartnersCtrl",["$scope","PartnersData","Utils","$timeout",function($scope,PartnersData,Utils,$timeout){PartnersData.getServicePartners().then(setUpScope);function setUpScope(partners){var aePd=PartnersData.filterByPlatform("appEngine",Utils.shuffle(partners));var bqPd=PartnersData.filterByPlatform("bigQuery",Utils.shuffle(partners));var cePd=PartnersData.filterByPlatform("computeEngine",Utils.shuffle(partners));var csPd=PartnersData.filterByPlatform("cloudStorage",Utils.shuffle(partners));
$scope.appEnginePartners=Utils.groupItems(aePd,2);$scope.bigQueryPartners=Utils.groupItems(bqPd,2);$scope.computeEnginePartners=Utils.groupItems(cePd,2);$scope.cloudStoragePartners=Utils.groupItems(csPd,2);$timeout(function(){$scope.ready()},50)}}]);
app.factory("PartnersData",["$http","$q","$timeout",function PartnersData($http,$q,$timeout){return{getServicePartners:function(){var deferred=$q.defer();$http.get(serviceJson).success(function(techPartners){deferred.resolve(techPartners)});return deferred.promise},getTechPartners:function(){var deferred=$q.defer();$http.get(techJson).success(function(techPartners){deferred.resolve(techPartners)});return deferred.promise},filterByPlatform:function(platform,partners){var partners=jQuery.map(partners,
function(partner,i){if(partner[platform]==="TRUE")return partner});return partners}}}]);
app.factory("Utils",function Utils(){return{shuffle:function(array){var currentIndex=array.length,temporaryValue,randomIndex;while(0!==currentIndex){randomIndex=Math.floor(Math.random()*currentIndex);currentIndex-=1;temporaryValue=array[currentIndex];array[currentIndex]=array[randomIndex];array[randomIndex]=temporaryValue}return array},groupItems:function(items,groupSize){var groups=[],inner;if(!items)return groups;for(var i=0;i<items.length;i++){if(i%groupSize===0){inner=[];groups.push(inner)}inner.push(items[i])}return groups}}});
app.filter("startFrom",function(){return function(input,start){start=+start;return input.slice(start)}});app.filter("characters",function(){return function(input,chars,breakOnWord){if(isNaN(chars))return input;if(chars<=0)return"";if(input&&input.length>=chars){input=input.substring(0,chars);if(!breakOnWord){var lastspace=input.lastIndexOf(" ");if(lastspace!==-1)input=input.substr(0,lastspace)}else while(input.charAt(input.length-1)==" ")input=input.substr(0,input.length-1);return input+"..."}return input}});
app.filter("slugify",function(){var charmap={" ":" ","\u00a1":"!","\u00a2":"c","\u00a3":"lb","\u00a5":"yen","\u00a6":"|","\u00a7":"SS","\u00a8":"'","\u00a9":"(c)","\u00aa":"a","\u00ab":"<<","\u00ac":"not","\u00ad":"-","\u00ae":"(R)","\u00b0":"^0","\u00b1":"+/-","\u00b2":"^2","\u00b3":"^3","\u00b4":"'","\u00b5":"u","\u00b6":"P","\u00b7":".","\u00b8":",","\u00b9":"^1","\u00ba":"o","\u00bb":">>","\u00bc":" 1/4 ","\u00bd":" 1/2 ","\u00be":" 3/4 ","\u00bf":"?","\u00c0":"`A","\u00c1":"'A","\u00c2":"^A",
"\u00c3":"~A","\u00c4":"'A","\u00c5":"A","\u00c6":"AE","\u00c7":"C","\u00c8":"`E","\u00c9":"'E","\u00ca":"^E","\u00cb":"'E","\u00cc":"`I","\u00cd":"'I","\u00ce":"^I","\u00cf":"'I","\u00d0":"D","\u00d1":"~N","\u00d2":"`O","\u00d3":"'O","\u00d4":"^O","\u00d5":"~O","\u00d6":"'O","\u00d7":"x","\u00d8":"O","\u00d9":"`U","\u00da":"'U","\u00db":"^U","\u00dc":"'U","\u00dd":"'Y","\u00de":"Th","\u00df":"ss","\u00e0":"`a","\u00e1":"'a","\u00e2":"^a","\u00e3":"~a","\u00e4":"'a","\u00e5":"a","\u00e6":"ae","\u00e7":"c",
"\u00e8":"`e","\u00e9":"'e","\u00ea":"^e","\u00eb":"'e","\u00ec":"`i","\u00ed":"'i","\u00ee":"^i","\u00ef":"'i","\u00f0":"d","\u00f1":"~n","\u00f2":"`o","\u00f3":"'o","\u00f4":"^o","\u00f5":"~o","\u00f6":"'o","\u00f7":":","\u00f8":"o","\u00f9":"`u","\u00fa":"'u","\u00fb":"^u","\u00fc":"'u","\u00fd":"'y","\u00fe":"th","\u00ff":"'y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"'C","\u0107":"'c","\u0108":"^C","\u0109":"^c","\u010a":"C","\u010b":"c","\u010c":"C",
"\u010d":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"^G","\u011d":"^g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"^H","\u0125":"^h","\u0126":"H","\u0127":"h","\u0128":"~I","\u0129":"~i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ",
"\u0133":"ij","\u0134":"^J","\u0135":"^j","\u0136":"K","\u0137":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"L","\u0142":"l","\u0143":"'N","\u0144":"'n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"'n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"'O","\u0151":"'o","\u0152":"OE","\u0153":"oe","\u0154":"'R","\u0155":"'r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","\u015a":"'S","\u015b":"'s",
"\u015c":"^S","\u015d":"^s","\u015e":"S","\u015f":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","\u0168":"~U","\u0169":"~u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"'U","\u0171":"'u","\u0172":"U","\u0173":"u","\u0174":"^W","\u0175":"^w","\u0176":"^Y","\u0177":"^y","\u0178":"'Y","\u0179":"'Z","\u017a":"'z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s"};function _slugify(s){if(!s)return"";
var ascii=[];var ch,cp;for(var i=0;i<s.length;i++)if((cp=s.charCodeAt(i))<384){ch=String.fromCharCode(cp);ascii.push(charmap[ch]||ch)}s=ascii.join("");s=s.replace(/[^\w\s-]/g,"").trim().toLowerCase();return s.replace(/[-\s]+/g,"-")}return function(input){return _slugify(input)}});